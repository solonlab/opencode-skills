# 文字清晰规范

生成包含中文文字的图片时，**必须在 prompt 末尾追加文字清晰指令**，确保文字可读、无乱码。

## 文字清晰后缀（必加）

```
【文字渲染要求】
- 所有中文文字必须清晰可读，笔画完整，无模糊、无乱码、无伪文字
- 文字边缘锐利，呈现印刷级清晰度，彻底消除压缩噪点与边缘溢色
- 字体风格统一，字距适中，排版规整
- 严禁出现无法阅读的乱码字符或残缺笔画
```

## 完整 Prompt 结构

```
{风格描述}。{内容描述}。{布局描述}。

【文字渲染要求】
- 所有中文文字必须清晰可读，笔画完整，无模糊、无乱码、无伪文字
- 文字边缘锐利，呈现印刷级清晰度
- 字体风格统一，排版规整
```

## 生成后校验流程

1. 生成图片后，用 `image_to_text.py -m ocr` 校验文字是否清晰
2. 如果 OCR 识别结果与预期文字不符，使用图生图迭代修复
3. 修复 prompt 使用以下模板

## 文字修复 Prompt（图生图迭代修复用）

```
执行语意级图像重构。针对图中模糊或乱码的文字区域进行修复：
1. 保持原图的版面配置、物体座标、配色风格完全不变
2. 将模糊文字修复为清晰的简体中文：{预期文字内容}
3. 文字笔画必须呈现印刷级清晰度，边缘锐利，无压缩噪点
4. 严禁产生无法阅读的伪文字或乱码
直接输出修复后的图像。
```
